{# templates/reservation/show.html.twig #}

{% extends 'base.html.twig' %}

{% block title %}Détails de la réservation{% endblock %}

{% block body %}
    <h1>Détails de la réservation</h1>

    <table class="table">
        <tr>
            <th>ID</th>
            <td>{{ reservation.id }}</td>
        </tr>
        <tr>
            <th>Utilisateur</th>
            <td>{{ reservation.user.username }}</td>
        </tr>
        <tr>
            <th>Habitat</th>
            <td>{{ reservation.habitat.title }}</td>
        </tr>
        <tr>
            <th>Date de début</th>
            <td>{{ reservation.startDate|date('Y-m-d H:i') }}</td>
        </tr>
        <tr>
            <th>Date de fin</th>
            <td>{{ reservation.endDate|date('Y-m-d H:i') }}</td>
        </tr>
        <tr>
            <th>Prix total</th>
            <td>{{ reservation.totalPrice }}</td>
        </tr>
        <tr>
            <th>Payé</th>
            <td>{{ reservation.isPaid ? 'Oui' : 'Non' }}</td>
        </tr>
    </table>

    <h2>Ajouter un commentaire</h2>

    {{ form_start(form) }}
        {{ form_row(form.content) }}
        <button class="btn btn-success">Commenter</button>
    {{ form_end(form) }}

    <h2>Commentaires</h2>
    <ul>
        {% for comment in reservation.comments %}
            <li>{{ comment.user.username }}: {{ comment.content }} ({{ comment.createdAt|date('Y-m-d H:i') }})</li>
        {% endfor %}
    </ul>

    <a href="{{ path('reservation_index') }}" class="btn btn-primary">Retour à la liste</a>
{% endblock %}
